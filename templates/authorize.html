<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Drive Authorization - TikTok Recorder</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .auth-container {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 40px;
            max-width: 500px;
            width: 100%;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            text-align: center;
        }

        .logo {
            font-size: 4em;
            margin-bottom: 20px;
        }

        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
            font-size: 2.2em;
            font-weight: 700;
        }

        .subtitle {
            color: #7f8c8d;
            margin-bottom: 30px;
            font-size: 1.1em;
            line-height: 1.6;
        }

        .benefits {
            text-align: left;
            margin: 30px 0;
            background: #f8f9fa;
            padding: 25px;
            border-radius: 12px;
            border-left: 4px solid #3498db;
        }

        .benefits h3 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .benefits ul {
            list-style: none;
            padding: 0;
        }

        .benefits li {
            margin: 10px 0;
            padding-left: 25px;
            position: relative;
            color: #555;
            line-height: 1.5;
        }

        .benefits li::before {
            content: "‚úÖ";
            position: absolute;
            left: 0;
            top: 0;
        }

        .auth-btn {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(45deg, #4285f4, #34a853);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 50px;
            font-size: 1.1em;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
            margin: 20px 0;
        }

        .auth-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
            text-decoration: none;
            color: white;
        }

        .back-btn {
            display: inline-block;
            color: #7f8c8d;
            text-decoration: none;
            margin-top: 20px;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .back-btn:hover {
            color: #3498db;
            text-decoration: none;
        }

        .security-note {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 8px;
            padding: 15px;
            margin-top: 25px;
            text-align: left;
        }

        .security-note h4 {
            color: #856404;
            margin-bottom: 8px;
            font-size: 1em;
        }

        .security-note p {
            color: #856404;
            font-size: 0.9em;
            line-height: 1.4;
            margin: 0;
        }

        .google-icon {
            width: 20px;
            height: 20px;
        }

        @media (max-width: 480px) {
            .auth-container {
                padding: 30px 20px;
            }
            
            h1 {
                font-size: 1.8em;
            }
            
            .logo {
                font-size: 3em;
            }
        }
    </style>
</head>
<body>
    <div class="auth-container">
        <div class="logo">üìÅ</div>
        <h1>Google Drive Setup</h1>
        <p class="subtitle">
            Connect your Google Drive to automatically save TikTok livestream recordings
        </p>

        <div class="benefits">
            <h3>üéØ What you'll get:</h3>
            <ul>
                <li>Automatic backup of all recordings</li>
                <li>Organized folders by username and date</li>
                <li>Easy sharing and access from anywhere</li>
                <li>Free storage (up to 15GB on Google Drive)</li>
                <li>No risk of losing recordings from server restarts</li>
            </ul>
        </div>

        <a href="/auth/google" class="auth-btn">
            <svg class="google-icon" viewBox="0 0 24 24">
                <path fill="currentColor" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                <path fill="currentColor" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                <path fill="currentColor" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                <path fill="currentColor" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
            </svg>
            Connect Google Drive
        </a>

        <div class="security-note">
            <h4>üîí Security & Privacy</h4>
            <p>
                We only request permission to create and manage files in your Google Drive. 
                We cannot access your existing files or personal information. 
                You can revoke access at any time from your Google Account settings.
            </p>
        </div>

        <a href="/status" class="back-btn">‚Üê Back to Dashboard</a>
    </div>

    <script>
        // Handle authorization success/failure messages
        const urlParams = new URLSearchParams(window.location.search);
        const status = urlParams.get('status');
        
        if (status === 'success') {
            document.body.insertAdjacentHTML('afterbegin', `
                <div style="position: fixed; top: 20px; right: 20px; background: #2ecc71; color: white; padding: 15px 20px; border-radius: 8px; z-index: 1000; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
                    ‚úÖ Google Drive connected successfully!
                </div>
            `);
            
            // Redirect to dashboard after 3 seconds
            setTimeout(() => {
                window.location.href = '/status';
            }, 3000);
        } else if (status === 'error') {
            document.body.insertAdjacentHTML('afterbegin', `
                <div style="position: fixed; top: 20px; right: 20px; background: #e74c3c; color: white; padding: 15px 20px; border-radius: 8px; z-index: 1000; box-shadow: 0 5px 15px rgba(0,0,0,0.2);">
                    ‚ùå Authorization failed. Please try again.
                </div>
            `);
        }
    </script>
</body>
</html>